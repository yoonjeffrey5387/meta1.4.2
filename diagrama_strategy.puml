@startuml Patr√≥n Strategy - Sistema IoT

!theme plain
skinparam backgroundColor #F8F9FA
skinparam classBackgroundColor #FFFFFF
skinparam classBorderColor #2C3E50
skinparam classFontColor #2C3E50
skinparam packageBackgroundColor #E8F4FD
skinparam packageBorderColor #3498DB
skinparam noteBackgroundColor #FFF3CD
skinparam noteBorderColor #FFC107
skinparam arrowColor #2C3E50
skinparam arrowThickness 2
skinparam interfaceBackgroundColor #E8F5E8
skinparam interfaceBorderColor #28A745

title <size:20><b>üéØ Patr√≥n Strategy</b></size>\n<size:14>Estrategias de An√°lisis de Sensores IoT</size>\n<size:12>Meta 1.4.2 - Yoon Jeffrey</size>

' ==========================================
' INTERFAZ STRATEGY
' ==========================================

package "Strategy Interface" #E8F5E8 {
    interface EstrategiaAnalisis {
        + analizar(Sensor) : Alerta
    }
    
    note top of EstrategiaAnalisis
        <b>üéØ Strategy Interface</b>
        ‚Ä¢ Define el contrato para an√°lisis
        ‚Ä¢ Algoritmos intercambiables
        ‚Ä¢ Cambio din√°mico en runtime
    end note
}

' ==========================================
' ESTRATEGIAS CONCRETAS
' ==========================================

package "Estrategias de An√°lisis" #F0F8FF {
    class EstrategiaAnalisisTemperatura {
        - static final double UMBRAL_CRITICO = 80.0
        - static final double UMBRAL_ADVERTENCIA = 70.0
        --
        + analizar(Sensor) : Alerta
        - determinarNivelAlerta(double) : NivelAlerta
        - generarMensajeAlerta(double) : String
    }
    
    class EstrategiaAnalisisHumedad {
        - static final double UMBRAL_CRITICO_ALTO = 90.0
        - static final double UMBRAL_CRITICO_BAJO = 10.0
        - static final double UMBRAL_ADVERTENCIA_ALTO = 80.0
        - static final double UMBRAL_ADVERTENCIA_BAJO = 20.0
        --
        + analizar(Sensor) : Alerta
        - determinarNivelAlerta(double) : NivelAlerta
        - generarMensajeAlerta(double) : String
    }
    
    class EstrategiaAnalisisCalidadAire {
        - static final double UMBRAL_CRITICO = 300.0
        - static final double UMBRAL_ADVERTENCIA = 200.0
        --
        + analizar(Sensor) : Alerta
        - determinarNivelAlerta(double) : NivelAlerta
        - generarMensajeAlerta(double) : String
    }
    
    class EstrategiaAnalisisEnergia {
        - static final double UMBRAL_ENERGIA = 1000.0
        --
        + analizar(Sensor) : Alerta
        - determinarNivelAlerta(double) : NivelAlerta
        - generarMensajeAlerta(double) : String
    }
    
    class EstrategiaAnalisisVibracion {
        - static final double UMBRAL_CRITICO = 5.0
        - static final double UMBRAL_ADVERTENCIA = 3.0
        --
        + analizar(Sensor) : Alerta
        - determinarNivelAlerta(double) : NivelAlerta
        - generarMensajeAlerta(double) : String
    }
    
    class EstrategiaAnalisisBasica {
        --
        + analizar(Sensor) : Alerta
        - generarAlertaInformativa(Sensor) : Alerta
    }
}

' ==========================================
' CLASES DE DOMINIO
' ==========================================

package "Domain Classes" #FFF8E1 {
    class Sensor {
        - String id
        - String tipo
        - double valor
        - String ubicacion
        - Date ultimaActualizacion
        --
        + getId() : String
        + getTipo() : String
        + getValor() : double
        + setValor(double) : void
        + getUbicacion() : String
        + getUltimaActualizacion() : Date
        + setUltimaActualizacion(Date) : void
        + toString() : String
    }
    
    class Alerta {
        - String idSensor
        - String mensaje
        - NivelAlerta nivel
        - Date fechaHora
        --
        + getIdSensor() : String
        + getMensaje() : String
        + getNivel() : NivelAlerta
        + getFechaHora() : Date
        + toString() : String
    }
    
    enum NivelAlerta {
        CRITICO
        ADVERTENCIA
        INFORMATIVO
    }
}

' ==========================================
' CONTEXTO QUE USA LA ESTRATEGIA
' ==========================================

package "Context" #FFE8E8 {
    class NotificadorAlertas {
        - EstrategiaAnalisis estrategia
        - List<ObservadorAlerta> observadores
        --
        + establecerEstrategiaAnalisis(EstrategiaAnalisis) : void
        + verificarYNotificar(Sensor) : void
        + obtenerEstrategiaActual() : EstrategiaAnalisis
    }
}

' ==========================================
' RELACIONES
' ==========================================

' Relaciones Strategy
EstrategiaAnalisisTemperatura ..|> EstrategiaAnalisis : implements
EstrategiaAnalisisHumedad ..|> EstrategiaAnalisis : implements
EstrategiaAnalisisCalidadAire ..|> EstrategiaAnalisis : implements
EstrategiaAnalisisEnergia ..|> EstrategiaAnalisis : implements
EstrategiaAnalisisVibracion ..|> EstrategiaAnalisis : implements
EstrategiaAnalisisBasica ..|> EstrategiaAnalisis : implements

' Relaciones de dominio
Sensor ||--o{ Alerta : genera
Alerta ||--|| NivelAlerta : tiene

' Relaciones con contexto
NotificadorAlertas ||--|| EstrategiaAnalisis : usa
EstrategiaAnalisis ||--o{ Alerta : crea

' ==========================================
' NOTAS EXPLICATIVAS
' ==========================================

note right of EstrategiaAnalisisTemperatura
    <b>üå°Ô∏è An√°lisis de Temperatura</b>
    ‚Ä¢ Detecta sobrecalentamiento
    ‚Ä¢ Umbral cr√≠tico: 80¬∞C
    ‚Ä¢ Umbral advertencia: 70¬∞C
end note

note right of EstrategiaAnalisisHumedad
    <b>üíß An√°lisis de Humedad</b>
    ‚Ä¢ Detecta humedad extrema
    ‚Ä¢ Cr√≠tico alto: 90%
    ‚Ä¢ Cr√≠tico bajo: 10%
end note

note right of EstrategiaAnalisisCalidadAire
    <b>üå¨Ô∏è An√°lisis de Calidad del Aire</b>
    ‚Ä¢ Detecta contaminaci√≥n
    ‚Ä¢ Umbral cr√≠tico: 300 ppm
    ‚Ä¢ Umbral advertencia: 200 ppm
end note

note right of EstrategiaAnalisisEnergia
    <b>‚ö° An√°lisis de Energ√≠a</b>
    ‚Ä¢ Detecta consumo excesivo
    ‚Ä¢ Umbral: 1000W
end note

note right of EstrategiaAnalisisVibracion
    <b>üì≥ An√°lisis de Vibraci√≥n</b>
    ‚Ä¢ Detecta movimientos an√≥malos
    ‚Ä¢ Umbral cr√≠tico: 5.0
    ‚Ä¢ Umbral advertencia: 3.0
end note

note bottom of NotificadorAlertas
    <b>üéØ Contexto Strategy</b>
    ‚Ä¢ Usa estrategias para an√°lisis
    ‚Ä¢ Cambio din√°mico de algoritmo
    ‚Ä¢ Desacoplamiento total
end note

@enduml
